---
import type { Page } from '../../shared/payload-types'
import type { PaginatedResponse } from '../../shared/types'
import api from '../../shared/api'
import Button from '../ui/Button.astro'

const res = await api.get('api/pages?where[slug][equals]=home')
const data = (await res.json()) as PaginatedResponse<Page>
const homeData = data.docs[0]
---

<section class="relative min-h-[85vh] flex items-center justify-center bg-bg pt-16 overflow-hidden">
  <div class="relative z-10 w-full max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="border border-border p-5 sm:p-8 md:p-12 lg:p-16 bg-surface/50">
      <div class="mb-6 sm:mb-8">
        <p class="text-accent text-[0.6rem] sm:text-xs mb-3 sm:mb-4">// cat ~/about_me.txt</p>
        <h1 class="font-pixel text-accent text-2xl sm:text-4xl md:text-5xl lg:text-6xl leading-relaxed tracking-wide">
          cjjaaayyyy
        </h1>
      </div>

      <div class="space-y-3 sm:space-y-4 mb-8 sm:mb-10">
        <p class="text-text-secondary text-xs sm:text-sm md:text-base">
          <span class="text-accent">&gt;</span> Full-Stack & AI Engineer
        </p>
        <p class="text-text-secondary text-xs sm:text-sm md:text-base blink-cursor">
          <span class="text-accent">&gt;</span> Building modern, scalable apps and AI solutions
        </p>
      </div>

      <div class="flex flex-col sm:flex-row gap-3 sm:gap-4">
        <Button href="/#projects" variant="primary" size="lg">
          [VIEW_WORK]
        </Button>
        <Button href="/#contact" variant="outline" size="lg">
          [GET_IN_TOUCH]
        </Button>
      </div>
    </div>

    <div class="mt-4 sm:mt-6 text-text-tertiary text-[0.6rem] sm:text-xs">
      <span class="text-accent">//</span> {homeData?.header || "christian anunciado"} â€” portfolio v2.0
    </div>
  </div>
</section>
